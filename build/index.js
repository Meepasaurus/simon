"use strict";var Simon=function(e,t){var n=e,o=[],c=!1,i=!1,r=0,a=0,s=0,u="0";return n>99?n=99:n>1&&(n=1),{checkPlayerMove:function(e){var t=this;o[s]===e?(this.btnClick(e),s++):(i=!1,$(".score").addClass("incorrect"),$(".score").text("X"),window.setTimeout(function(){$(".score").removeClass("incorrect")},300),c||(s=0,a=0,window.setTimeout(function(){console.log("RETRY"),t.playSequence()},750))),s===r&&(console.log("NEXT ROUND"),i=!1,r++,s=0,$(".score").addClass("correct"),$(".score").text(r),window.setTimeout(function(){$(".score").removeClass("correct")},300),window.setTimeout(function(){t.generateNext()},750))},btnClick:function(e){this.playSound(e),$(".btn-"+e).addClass("active-"+e),window.setTimeout(function(){$(".btn-"+e).removeClass("active-"+e)},200)},playSound:function(e){var t=document.getElementById(e.toString()+u);t.pause(),t.currentTime=0,t.play(),u="0"===u?"1":"0"},playSequence:function(){var e=this;this.btnClick(o[a]),a++,console.log(a,r),a===r?(i=!0,a=0):window.setTimeout(function(){e.playSequence()},500)},generateNext:function(){o.push(Math.floor(4*Math.random())),console.log(o),this.playSequence()},getPlayerTurn:function(){return i},newGame:function(e){i=!1,c=e,o=[],r=1,a=0,s=0,$(".score").text(r),this.generateNext()}}};$(document).ready(function(){var e=$.parseJSON(localStorage.getItem("score"));null===e&&(localStorage.setItem("score","0"),e=0);var t=new Simon(20,e);$(".game-btn").on("click",function(){t.getPlayerTurn()&&t.checkPlayerMove($(this).data("id"))}),$("#new-game").on("click",function(){t.newGame(!1)})});